{"ast":null,"code":"import _slicedToArray from\"/home/jon/AppAcademy/portfolio/portfolio_1/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./SlotSpinner.css';import{useEffect,useState}from'react';import IconArr from'./IconArr';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SlotSpinner=function SlotSpinner(){var _useState=useState(IconArr[Math.floor(Math.random()*15)]),_useState2=_slicedToArray(_useState,2),displayIconOne=_useState2[0],setDisplayIconOne=_useState2[1];var _useState3=useState(IconArr[Math.floor(Math.random()*15)]),_useState4=_slicedToArray(_useState3,2),displayIconTwo=_useState4[0],setDisplayIconTwo=_useState4[1];var _useState5=useState(IconArr[Math.floor(Math.random()*15)]),_useState6=_slicedToArray(_useState5,2),displayIconThree=_useState6[0],setDisplayIconThree=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),rerunAnim=_useState8[0],setRerunAnim=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),prizeTrigger=_useState10[0],setPrizeTrigger=_useState10[1];var _useState11=useState(/*#__PURE__*/_jsx(\"img\",{id:\"spinnerIconOne\",src:displayIconOne,width:\"64px\"})),_useState12=_slicedToArray(_useState11,2),iconElementOne=_useState12[0],setIconElementOne=_useState12[1];var _useState13=useState(/*#__PURE__*/_jsx(\"img\",{id:\"spinnerIconTwo\",src:displayIconTwo,width:\"64px\"})),_useState14=_slicedToArray(_useState13,2),iconElementTwo=_useState14[0],setIconElementTwo=_useState14[1];var _useState15=useState(/*#__PURE__*/_jsx(\"img\",{id:\"spinnerIconThree\",src:displayIconThree,width:\"64px\"})),_useState16=_slicedToArray(_useState15,2),iconElementThree=_useState16[0],setIconElementThree=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),trigger=_useState18[0],setTrigger=_useState18[1];// const winFunc = () => {\n//   console.log('win')\n//   const winTimeout = setTimeout(() => {\n//     setTrigger(prev => !prev);\n//     setPrizeTrigger(false);\n//   }, 5000)\n// }\n// main slot animation \nuseEffect(function(){setRerunAnim(true);var spinnerTimeout;var spinnerTimeout2;var counter=0;spinnerTimeout=setInterval(function(){var iconOne=IconArr[Math.floor(Math.random()*15)];var iconTwo=IconArr[Math.floor(Math.random()*15)];var iconThree=IconArr[Math.floor(Math.random()*15)];if(iconTwo===iconThree&&iconThree===iconOne){console.log('intervene');iconThree=IconArr[Math.floor(Math.random()*15)];}setDisplayIconOne(iconOne);setDisplayIconTwo(iconTwo);setDisplayIconThree(iconThree);counter++;if(counter===6){var bigWin=Math.floor(Math.random()*3);if(bigWin===1){var winIcon=IconArr[Math.floor(Math.random()*15)];setDisplayIconOne(winIcon);setDisplayIconTwo(winIcon);setDisplayIconThree(winIcon);clearInterval(spinnerTimeout);clearTimeout(spinnerTimeout2);var shortTimeout=setTimeout(function(){setPrizeTrigger(true);clearTimeout(shortTimeout);},500);// winFunc();\nvar winTimeout=setTimeout(function(){setPrizeTrigger(false);setRerunAnim(false);setTrigger(function(prev){return!prev;});clearTimeout(winTimeout);},9000);return;}clearInterval(spinnerTimeout);spinnerTimeout2=setTimeout(function(){setRerunAnim(false);setTrigger(function(prev){return!prev;});clearTimeout(spinnerTimeout2);},2000);}},500);},[trigger]);// setBpmValue(PrizeArr[Math.floor(Math.random() * 100)]);\n// setSpinnerTrigger(true);\nreturn/*#__PURE__*/_jsx(\"div\",{id:\"slotMachineContainer\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"fullSpinnerRow\",children:[prizeTrigger&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:displayIconOne,width:\"100\",className:\"prizeIcon\",id:\"prize1\"}),/*#__PURE__*/_jsx(\"img\",{src:displayIconOne,width:\"100\",className:\"prizeIcon\",id:\"prize2\"}),/*#__PURE__*/_jsx(\"img\",{src:displayIconOne,width:\"100\",className:\"prizeIcon\",id:\"prize3\"}),/*#__PURE__*/_jsx(\"img\",{src:displayIconOne,width:\"100\",className:\"prizeIcon\",id:\"prize4\"}),/*#__PURE__*/_jsx(\"img\",{src:displayIconOne,width:\"100\",className:\"prizeIcon\",id:\"prize5\"}),/*#__PURE__*/_jsx(\"img\",{src:displayIconOne,width:\"100\",className:\"prizeIcon\",id:\"prize6\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"spinnerContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bpmValueDisplaySpinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinnerHighlight\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"el1\",children:[rerunAnim&&/*#__PURE__*/_jsx(\"img\",{id:\"spinnerIconOne\",src:displayIconOne,width:\"80px\"}),!rerunAnim&&/*#__PURE__*/_jsx(\"img\",{src:displayIconOne,width:\"80px\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"spinnerContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bpmValueDisplaySpinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinnerHighlight\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"el2\",children:[rerunAnim&&/*#__PURE__*/_jsx(\"img\",{id:\"spinnerIconTwo\",src:displayIconTwo,width:\"80px\"}),!rerunAnim&&/*#__PURE__*/_jsx(\"img\",{src:displayIconTwo,width:\"80px\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"spinnerContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bpmValueDisplaySpinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinnerHighlight\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"el3\",children:[rerunAnim&&/*#__PURE__*/_jsx(\"img\",{id:\"spinnerIconThree\",src:displayIconThree,width:\"80px\"}),!rerunAnim&&/*#__PURE__*/_jsx(\"img\",{src:displayIconThree,width:\"80px\"})]})]})})]})});};export default SlotSpinner;","map":{"version":3,"names":["useEffect","useState","IconArr","SlotSpinner","Math","floor","random","displayIconOne","setDisplayIconOne","displayIconTwo","setDisplayIconTwo","displayIconThree","setDisplayIconThree","rerunAnim","setRerunAnim","prizeTrigger","setPrizeTrigger","iconElementOne","setIconElementOne","iconElementTwo","setIconElementTwo","iconElementThree","setIconElementThree","trigger","setTrigger","spinnerTimeout","spinnerTimeout2","counter","setInterval","iconOne","iconTwo","iconThree","console","log","bigWin","winIcon","clearInterval","clearTimeout","shortTimeout","setTimeout","winTimeout","prev"],"sources":["/home/jon/AppAcademy/portfolio/portfolio_1/frontend/src/components/SlotSpinner/SlotSpinner.js"],"sourcesContent":["import './SlotSpinner.css';\nimport { useEffect, useState } from 'react';\nimport IconArr from './IconArr';\n\n\nconst SlotSpinner = () => {\n  const [displayIconOne, setDisplayIconOne] = useState(IconArr[Math.floor(Math.random() * 15)]);\n  const [displayIconTwo, setDisplayIconTwo] = useState(IconArr[Math.floor(Math.random() * 15)]);\n  const [displayIconThree, setDisplayIconThree] = useState(IconArr[Math.floor(Math.random() * 15)]);\n  const [rerunAnim, setRerunAnim] = useState(false);\n  const [prizeTrigger, setPrizeTrigger] = useState(false);\n  const [iconElementOne, setIconElementOne] = useState(<img id='spinnerIconOne' src={displayIconOne} width='64px'/>);\n  const [iconElementTwo, setIconElementTwo] = useState(<img id='spinnerIconTwo' src={displayIconTwo} width='64px'/>);\n  const [iconElementThree, setIconElementThree] = useState(<img id='spinnerIconThree' src={displayIconThree} width='64px'/>);\n  const [trigger, setTrigger] = useState(false);\n\n  // const winFunc = () => {\n  //   console.log('win')\n  //   const winTimeout = setTimeout(() => {\n  //     setTrigger(prev => !prev);\n  //     setPrizeTrigger(false);\n  //   }, 5000)\n  // }\n\n  // main slot animation \n  useEffect(() => {\n    setRerunAnim(true);\n    let spinnerTimeout\n    let spinnerTimeout2\n    let counter = 0;\n    spinnerTimeout = setInterval(()=> {\n      let iconOne = IconArr[Math.floor(Math.random() * 15)];\n      let iconTwo = IconArr[Math.floor(Math.random() * 15)];\n      let iconThree = IconArr[Math.floor(Math.random() * 15)];\n      if (iconTwo === iconThree && iconThree === iconOne) {\n        console.log('intervene')\n        iconThree = IconArr[Math.floor(Math.random() * 15)];\n      }\n      setDisplayIconOne(iconOne);\n      setDisplayIconTwo(iconTwo);\n      setDisplayIconThree(iconThree);\n      counter++;\n      if (counter === 6) {\n        const bigWin = Math.floor(Math.random() * 3);\n        if (bigWin === 1) {\n          const winIcon = IconArr[Math.floor(Math.random() * 15)]\n          setDisplayIconOne(winIcon);\n          setDisplayIconTwo(winIcon);\n          setDisplayIconThree(winIcon);\n          clearInterval(spinnerTimeout);\n          clearTimeout(spinnerTimeout2)\n          const shortTimeout = setTimeout(() => {\n            setPrizeTrigger(true);\n            clearTimeout(shortTimeout);\n          }, 500)\n          // winFunc();\n          const winTimeout = setTimeout(() => {\n            setPrizeTrigger(false);\n            setRerunAnim(false);\n            setTrigger(prev => !prev);\n            clearTimeout(winTimeout);\n          }, 9000)\n          return;\n        }\n        clearInterval(spinnerTimeout);\n        spinnerTimeout2 = setTimeout(() => {\n          setRerunAnim(false);\n          setTrigger(prev => !prev);\n          clearTimeout(spinnerTimeout2)\n        }, 2000)\n      }\n    }, 500);\n  },[trigger])\n\n  // setBpmValue(PrizeArr[Math.floor(Math.random() * 100)]);\n  // setSpinnerTrigger(true);\n\n  return (\n    <div id='slotMachineContainer'>\n      <div id='fullSpinnerRow'>\n        {prizeTrigger &&\n          <>\n            <img src={displayIconOne} width=\"100\" className='prizeIcon' id='prize1'/>\n            <img src={displayIconOne} width=\"100\" className='prizeIcon' id='prize2'/>\n            <img src={displayIconOne} width=\"100\" className='prizeIcon' id='prize3'/>\n            <img src={displayIconOne} width=\"100\" className='prizeIcon' id='prize4'/>\n            <img src={displayIconOne} width=\"100\" className='prizeIcon' id='prize5'/>\n            <img src={displayIconOne} width=\"100\" className='prizeIcon' id='prize6'/>\n          </>\n        }\n        <div className='spinnerContainer'>\n          {/* <BpmCoin classPass={classPass}/> */}\n          <div className='bpmValueDisplaySpinner'>\n          <div className='spinnerHighlight'></div>\n            <div id='el1'>\n              {rerunAnim &&\n                <img id='spinnerIconOne' src={displayIconOne} width='80px'/>\n              }\n              {!rerunAnim &&\n                <img src={displayIconOne} width='80px'/>\n              }\n            </div>\n          </div>\n        </div>\n        <div className='spinnerContainer'>\n          {/* <BpmCoin classPass={classPass}/> */}\n          <div className='bpmValueDisplaySpinner'>\n          <div className='spinnerHighlight'></div>\n            <div id='el2'>\n              {rerunAnim &&\n                <img id='spinnerIconTwo' src={displayIconTwo} width='80px'/>\n              }\n              {!rerunAnim &&\n                <img src={displayIconTwo} width='80px'/>\n              }\n            </div>\n          </div>\n        </div>\n        <div className='spinnerContainer'>\n          {/* <BpmCoin classPass={classPass}/> */}\n          <div className='bpmValueDisplaySpinner'>\n          <div className='spinnerHighlight'></div>\n            <div id='el3'>\n              {rerunAnim &&\n                <img id='spinnerIconThree' src={displayIconThree} width='80px'/>\n              }\n              {!rerunAnim &&\n                <img src={displayIconThree} width='80px'/>\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* <div id='slotBottom'>Always a winning combination!</div> */}\n    </div>\n  )\n};\n\nexport default SlotSpinner;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}